!function($){$.fn.autogrow=function(e){function t(t){var o=$(this),s=o.innerHeight(),a=this.scrollHeight,h=o.data("autogrow-start-height")||0,l;if(s<a)this.scrollTop=0,e.animate?o.stop().animate({height:a},{duration:e.speed,complete:i}):(o.innerHeight(a),i());else if(!t||8==t.which||46==t.which||t.ctrlKey&&88==t.which)if(s>h){l=o.clone().addClass(e.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(o.val()),o.after(l);do{a=l[0].scrollHeight-1,l.innerHeight(a)}while(a===l[0].scrollHeight);a++,l.remove(),a<h&&(a=h),s>a&&(e.animate?o.stop().animate({height:a},{duration:e.speed,complete:n}):(o.innerHeight(a),n()))}else o.innerHeight(h)}function i(){e.context.trigger("autogrow:grow")}function n(){e.context.trigger("autogrow:shrink")}var o=$(this).css({overflow:"hidden",resize:"none"}),s=o.selector,a={context:$(document),animate:!0,speed:200,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return e=$.isPlainObject(e)?e:{context:e||$(document)},e=$.extend({},a,e),o.each(function(i,n){var o,s;n=$(n),n.is(":visible")||parseInt(n.css("height"),10)>0?o=parseInt(n.css("height"),10)||n.innerHeight():(s=n.clone().addClass(e.cloneClass).val(n.val()).css({position:"absolute",visibility:"hidden",display:"block"}),$("body").append(s),o=s.innerHeight(),s.remove()),e.fixMinHeight&&n.data("autogrow-start-height",o),n.css("height",o),e.onInitialize&&n.length&&t.call(n[0])}),e.context.on("keyup paste",s,t),o}}(jQuery);